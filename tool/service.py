# -*- coding: UTF-8 -*-import socketimport errnoclass Server(object):    def __init__(self, addr, handler):        self.address = addr        self.handler = handler        # 建立socket对象        self.Sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)        # 设置socket        self.Sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)        # 绑定地址和端口        self.Sock.bind(addr)        # 监听链接        self.Sock.listen(100)    def connect(self):        conn, address = self.Sock.accept()        return conn    def receive(self):        buf = ""        try:            buf = self.connect().recv(1024)        except socket.error, rs:            if socket.error.errno == errno.EINTR:                pass            else:                raise socket.error, rs        return buf    def send(self, data):        #left = len(data)        #while left > 0:        try:            self.connect().send(data)            print "Server Send: %s" % data        except socket.error, rs:            if socket.error.errno == errno.EINTR:                pass            else:                raise socket.error, rs            #left -= ret    def close(self):        self.connect().close()if __name__ == '__main__':    pass