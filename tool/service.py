# -*- coding: UTF-8 -*-import socketimport errnoclass Server(object):    def __init__(self, addr, handler):        self.address = addr        self.handler = handler        # 建立socket对象        self.Sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)        # 设置socket        self.Sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)        # 绑定地址和端口        self.Sock.bind(addr)        # 监听链接        self.Sock.listen(100)        conn, address = self.Sock.accept()        self.conn = conn    def connect(self):        conn, address = self.Sock.accept()        self.conn = conn        return conn    def receive(self):        buf = ""        try:            buf = self.conn.recv(1024)        except socket.error, rs:            if socket.error.errno == errno.EINTR:                pass            else:                raise socket.error, rs        return buf    def send(self, data):        try:            self.conn.send(data)            print "Server Send: %s" % data        except socket.error, rs:            if socket.error.errno == errno.EINTR:                pass            else:                raise socket.error, rs            #left -= ret    def close(self):        self.conn.close()if __name__ == '__main__':    pass